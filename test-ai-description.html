<!DOCTYPE html>
<html>
<head>
    <title>Test AI Description Generation</title>
</head>
<body>
    <h1>Testing AI Description Generation</h1>
    <div id="result"></div>
    
    <script type="module">
        import { supabase } from '/src/integrations/supabase/client.ts';
        
        async function testDescription() {
            try {
                console.log('Testing AI description generation...');
                const { data, error } = await supabase.functions.invoke('generate-description', {
                    body: { 
                        gearName: "Jones Mind Expander Twin", 
                        gearType: "snowboard" 
                    }
                });
                
                if (error) {
                    console.error('Error:', error);
                    document.getElementById('result').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
                } else {
                    console.log('Success:', data);
                    document.getElementById('result').innerHTML = `<p style="color: green;">Generated Description: ${data.description}</p>`;
                }
            } catch (err) {
                console.error('Caught error:', err);
                document.getElementById('result').innerHTML = `<p style="color: red;">Caught Error: ${err.message}</p>`;
            }
        }
        
        // Run test on page load
        testDescription();
    </script>
</body>
</html>